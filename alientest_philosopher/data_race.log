
philo

Testing data_races with the death of one philosopher.

==1223396== Helgrind, a thread error detector
==1223396== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==1223396== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==1223396== Command: ./.././philo 2 10 5 5
==1223396== 
==1223396== ---Thread-Announcement------------------------------------------
==1223396== 
==1223396== Thread #2 was created
==1223396==    at 0x49A1BA3: clone (clone.S:76)
==1223396==    by 0x49A2A9E: __clone_internal (clone-internal.c:83)
==1223396==    by 0x4910758: create_thread (pthread_create.c:295)
==1223396==    by 0x491127F: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
==1223396==    by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x401ABB: init_philo_threads (init_threads.c:71)
==1223396==    by 0x40120F: main (main.c:22)
==1223396== 
==1223396== ----------------------------------------------------------------
==1223396== 
==1223396== Thread #2: lock order "0x1FFEFFD880 before 0x1FFEFFD858" violated
==1223396== 
==1223396== Observed (incorrect) order is: acquisition of lock at 0x1FFEFFD858
==1223396==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x401F6E: fork_locker (mutex.c:40)
==1223396==    by 0x401E7C: sub_eat (subroutines.c:63)
==1223396==    by 0x401DBC: routine_philo (routines.c:43)
==1223396==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x4910B42: start_thread (pthread_create.c:442)
==1223396==    by 0x49A1BB3: clone (clone.S:100)
==1223396== 
==1223396==  followed by a later acquisition of lock at 0x1FFEFFD880
==1223396==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x401FA6: fork_locker (mutex.c:43)
==1223396==    by 0x401E7C: sub_eat (subroutines.c:63)
==1223396==    by 0x401DBC: routine_philo (routines.c:43)
==1223396==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x4910B42: start_thread (pthread_create.c:442)
==1223396==    by 0x49A1BB3: clone (clone.S:100)
==1223396== 
==1223396== Required order was established by acquisition of lock at 0x1FFEFFD880
==1223396==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x401F6E: fork_locker (mutex.c:40)
==1223396==    by 0x401E7C: sub_eat (subroutines.c:63)
==1223396==    by 0x401DBC: routine_philo (routines.c:43)
==1223396==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x4910B42: start_thread (pthread_create.c:442)
==1223396==    by 0x49A1BB3: clone (clone.S:100)
==1223396== 
==1223396==  followed by a later acquisition of lock at 0x1FFEFFD858
==1223396==    at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x401FA6: fork_locker (mutex.c:43)
==1223396==    by 0x401E7C: sub_eat (subroutines.c:63)
==1223396==    by 0x401DBC: routine_philo (routines.c:43)
==1223396==    by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x4910B42: start_thread (pthread_create.c:442)
==1223396==    by 0x49A1BB3: clone (clone.S:100)
==1223396== 
==1223396==  Lock at 0x1FFEFFD880 was first observed
==1223396==    at 0x4854BFE: pthread_mutex_init (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x401BC8: init_mutex (init_threads.c:99)
==1223396==    by 0x401203: main (main.c:21)
==1223396==  Address 0x1ffeffd880 is on thread #1's stack
==1223396==  in frame #4, created by main (main.c:16)
==1223396== 
==1223396==  Lock at 0x1FFEFFD858 was first observed
==1223396==    at 0x4854BFE: pthread_mutex_init (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
==1223396==    by 0x401BC8: init_mutex (init_threads.c:99)
==1223396==    by 0x401203: main (main.c:21)
==1223396==  Address 0x1ffeffd858 is on thread #1's stack
==1223396==  in frame #4, created by main (main.c:16)
==1223396== 
==1223396== 
==1223396== 
==1223396== Use --history-level=approx or =none to gain increased speed, at
==1223396== the cost of reduced accuracy of conflicting-access information
==1223396== For lists of detected and suppressed errors, rerun with: -s
==1223396== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 179 from 70)

Testing data_races with every philosopher eating at least one time.

